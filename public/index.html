<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" type="image/png" href="./favicon.ico" />

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>

    <title>Constelaciones</title>
  </head>
  <body>
    <!-- Logica de la app -->
    <script>
      AFRAME.registerComponent("log", {
        init: function() {
          var sceneEl = document.querySelector("a-scene");
          var theSky = sceneEl.querySelector("a-sky");
          var data = this.data;
          var el = this.el; // plano seleccionado
          var source = "";
          var actualSky = "";

          el.addEventListener("click", function() {
            source = el.getAttribute("src");
            actualSky = theSky.getAttribute("src");
            theSky.setAttribute("src", source);
            el.setAttribute("src", actualSky);
          });
        }
      });
    </script>
    <a-scene>
      <!-- Agregar los recursos para la aplicacion -->
      <!-- https://svs.gsfc.nasa.gov/4851 -->
      <a-assets>
        <!-- Imagenes para el cielo y constelaciones -->
        <img id="sky" src="./images/starmap_2020.jpg" >
        <img id="bounds" src="./images/constellation_bounds.png" >
        <img id="figures" src="./images/constellation_figures.png" >
        <!-- Otra -->
      </a-assets>
      <!-- Agregar cielo a la escena -->
      <a-sky src="#sky" radius="100" ></a-sky>
      <a-sky src="#bounds" transparent="true" radius="98" ></a-sky>
      <a-sky src="#figures" transparent="true" radius="97" ></a-sky>
      <!-- Agregar objetos a la escena -->
      <!-- <a-sphere
        position="0 0.85 -5"
        radius="0.2"
        color="#EFEFEF"
      ></a-sphere> -->
      <a-text value="Virgo" position="9 2 -5" rotation="0 -60 0">
        <a-plane
          width="1"
          height="0.35"
          material="color: black; opacity: 0.35"
          position="0 0 0"
        ></a-plane>
      </a-text>
      <!-- Agregar el cursor -->
      <a-camera>
        <a-cursor
          id="cursor"
          color="white"
          animation__click="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; easing: easeInCubic; dur: 150; startEvents: click"
          animation__clickreset="property: scale; to: 1 1 1; dur: 1; startEvents: animationcomplete__click"
        ></a-cursor>
      </a-camera>
    </a-scene>
  </body>
</html>
